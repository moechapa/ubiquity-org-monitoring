<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionCalls>
        <name>Alert_imp_owner</name>
        <label>Alert imp owner</label>
        <locationX>73</locationX>
        <locationY>939</locationY>
        <actionName>emailSimple</actionName>
        <actionType>emailSimple</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>emailAddressesArray</name>
            <value>
                <elementReference>errorEmailRecipients</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>senderType</name>
            <value>
                <stringValue>DefaultWorkflowUser</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailSubject</name>
            <value>
                <stringValue>Missing data for {!$Record.Name}</stringValue>
            </value>
        </inputParameters>
        <inputParameters>
            <name>emailBody</name>
            <value>
                <elementReference>formattedErrorEmailBody</elementReference>
            </value>
        </inputParameters>
        <nameSegment>emailSimple</nameSegment>
    </actionCalls>
    <apiVersion>54.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Assign_Email_Recipients</name>
        <label>Assign Email Recipients</label>
        <locationX>78</locationX>
        <locationY>769</locationY>
        <assignmentItems>
            <assignToReference>errorEmailRecipients</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>$Record.Owner:User.Email</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>errorEmailRecipients</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>$Record.Owner:User.Manager.Email</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>errorEmailRecipients</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>ccampbell@myubiquity.com</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Alert_imp_owner</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Census_Check</name>
        <label>Census Check</label>
        <locationX>1706</locationX>
        <locationY>491</locationY>
        <defaultConnector>
            <targetReference>Mark_Census_Call_Complete_Only</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Tutorial Complete, Census Not Uploaded</defaultConnectorLabel>
        <rules>
            <name>Census_Uploaded</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Census_and_Eligibility_Uploaded__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Census_Call_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_to_Funding_Step</targetReference>
            </connector>
            <label>Census Uploaded from Census Call</label>
        </rules>
        <rules>
            <name>Census_Uploaded_from_Tutorial</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Census_Tutorial_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Census_and_Eligibility_Uploaded__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_to_Funding_Step_0</targetReference>
            </connector>
            <label>Census Uploaded from Tutorial</label>
        </rules>
        <rules>
            <name>Call_Complete_Census_Not_Uploaded</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Census_Call_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Census_and_Eligibility_Uploaded__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>Call Complete, Census Not Uploaded</label>
        </rules>
    </decisions>
    <decisions>
        <name>Document_Check</name>
        <label>Document Check</label>
        <locationX>1435</locationX>
        <locationY>409</locationY>
        <defaultConnector>
            <targetReference>Mark_Call_Complete_Only</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Docs Not Signed</defaultConnectorLabel>
        <rules>
            <name>Docs_Signed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Ubiquity_Plan_Documents_Signed__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_to_Enrollment</targetReference>
            </connector>
            <label>Docs Signed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Finch</name>
        <label>Finch?</label>
        <locationX>1637</locationX>
        <locationY>1434</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Finch</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account__r.Finch_Credential_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Active</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account__r.Finch_Credential_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pending</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Mark_Funding_Call_PT_Not_Needed_Finch</targetReference>
            </connector>
            <label>Yes Finch</label>
        </rules>
    </decisions>
    <decisions>
        <name>is_this_a_validation_error</name>
        <label>is this a validation error</label>
        <locationX>631</locationX>
        <locationY>752</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Validation_Error</name>
            <conditionLogic>1 AND (2 OR 3 OR 4 OR 5)</conditionLogic>
            <conditions>
                <leftValueReference>$Flow.FaultMessage</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>FIELD_CUSTOM_VALIDATION_EXCEPTION:</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$User.ProfileId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>00e1G0000011hdP</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$User.ProfileId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>00e00000006ohd0</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$User.ProfileId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>00e1G000000JImV</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$User.ProfileId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>00e1G000000JIma</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Email_Recipients</targetReference>
            </connector>
            <label>Validation Error</label>
        </rules>
    </decisions>
    <decisions>
        <name>Move_to_Next_Step</name>
        <label>Move to Next Step</label>
        <locationX>2222</locationX>
        <locationY>385</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Move_to_Enrollment</name>
            <conditionLogic>3 AND ((2 AND 1) OR (4 AND 5 AND 6 AND (7 OR 8 OR 9)))</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Intro_Call_Complete__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Intro_Call_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Census_Call_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Provisions_Accepted__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Dashboard_Overview_Tutorial_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Plan_Setup_Tutorial_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Provisions_Accepted__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Dashboard_Overview_Tutorial_Complete__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Plan_Setup_Tutorial_Complete__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Self_Service_at_Intro_Stage</targetReference>
            </connector>
            <label>Move to Enrollment</label>
        </rules>
        <rules>
            <name>Move_to_Funding</name>
            <conditionLogic>3 AND ((1 AND 2) or  (4 and 5))</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Census_Call_Complete__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Census_Call_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Funding_Call_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Census_Tutorial_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Census_Tutorial_Complete__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Census_Check</targetReference>
            </connector>
            <label>Move to Funding</label>
        </rules>
        <rules>
            <name>Move_to_Complete</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Funding_Call_Complete__c</leftValueReference>
                <operator>IsChanged</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Funding_Call_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Intro_Call_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Census_Call_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Imp_Step_to_Complete</targetReference>
            </connector>
            <label>Move to Complete</label>
        </rules>
        <rules>
            <name>Documents_Signed</name>
            <conditionLogic>1 AND 3 AND (2 OR (4 AND 5 AND 6))</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Ubiquity_Plan_Documents_Signed__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Intro_Call_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Implementation_Steps__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Introductory Tasks</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Dashboard_Overview_Tutorial_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Plan_Setup_Tutorial_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Provisions_Accepted__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Self_Service_at_Intro_Stage</targetReference>
            </connector>
            <label>Documents Signed</label>
        </rules>
        <rules>
            <name>Census_Complete</name>
            <conditionLogic>1 AND 3 AND (2 OR 4)</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Census_and_Eligibility_Uploaded__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Census_Call_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Implementation_Steps__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Add Your Employees</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Census_Tutorial_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_to_Funding_Step</targetReference>
            </connector>
            <label>Census Complete</label>
        </rules>
    </decisions>
    <decisions>
        <name>Self_Service_at_Intro_Stage</name>
        <label>Self Service at Intro Stage</label>
        <locationX>1316</locationX>
        <locationY>85</locationY>
        <defaultConnectorLabel>OOPS</defaultConnectorLabel>
        <rules>
            <name>Self_Service_intro_stage_complete</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Census_Self_Service__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Dashboard_Overview_Tutorial_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Plan_Setup_Tutorial_Complete__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Provisions_Accepted__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Ubiquity_Plan_Documents_Signed__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Implementation_Steps__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Introductory Tasks</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_to_self_service_census_stage</targetReference>
            </connector>
            <label>Self Service intro stage complete</label>
        </rules>
        <rules>
            <name>Conventional_Imp_Reroute_to_doc_path</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Documents_Signed</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Census_Self_Service__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Still_Awaiting_Assignment</targetReference>
            </connector>
            <label>Conventional Imp Reroute to doc path</label>
        </rules>
        <rules>
            <name>Conventional_Imp_Reroute_to_M2E_Path</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Move_to_Enrollment</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Census_Self_Service__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Document_Check</targetReference>
            </connector>
            <label>Conventional Imp Reroute to M2E Path</label>
        </rules>
    </decisions>
    <decisions>
        <name>Still_Awaiting_Assignment</name>
        <label>Still Awaiting Assignment?</label>
        <locationX>1157</locationX>
        <locationY>406</locationY>
        <defaultConnector>
            <targetReference>Update_to_Enrollment</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Implementation_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Awaiting Assignment</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_to_Enrollment_and_In_Progress</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Task_Complete</name>
        <label>Task Complete?</label>
        <locationX>1227</locationX>
        <locationY>952</locationY>
        <defaultConnectorLabel>Task Complete</defaultConnectorLabel>
        <rules>
            <name>Task_Incomplete</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Intro_Call_Task.Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Intro_Project_Task</targetReference>
            </connector>
            <label>Task Incomplete</label>
        </rules>
    </decisions>
    <decisions>
        <name>Task_Complete_0</name>
        <label>Task Complete?</label>
        <locationX>1669</locationX>
        <locationY>1145</locationY>
        <defaultConnectorLabel>Task Complete</defaultConnectorLabel>
        <rules>
            <name>Task_Incomplete_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Census_Call_Task.Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Census_Project_Task</targetReference>
            </connector>
            <label>Census Task Incomplete</label>
        </rules>
        <rules>
            <name>Census_Task_Complete_but_Finch</name>
            <conditionLogic>1 AND (2 OR 3)</conditionLogic>
            <conditions>
                <leftValueReference>Get_Census_Call_Task.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account__r.Finch_Credential_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Active</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Account__r.Finch_Credential_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Pending</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Mark_Funding_Call_PT_Not_Needed_Finch</targetReference>
            </connector>
            <label>Census Task Complete but Finch</label>
        </rules>
    </decisions>
    <decisions>
        <name>Task_Complete_0_0</name>
        <label>Task Complete?</label>
        <locationX>2288</locationX>
        <locationY>743</locationY>
        <defaultConnectorLabel>Task Complete</defaultConnectorLabel>
        <rules>
            <name>Task_Incomplete_0_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Funding_Call_Task.Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Funding_Project_Task</targetReference>
            </connector>
            <label>Task Incomplete</label>
        </rules>
    </decisions>
    <description>Added support for self service plans to move from intro -&gt; census.  Plans will progress when self service intro fields are completed AND documents are signed.</description>
    <environments>Default</environments>
    <formulas>
        <name>formattedError</name>
        <dataType>String</dataType>
        <expression>MID({!$Flow.FaultMessage},
FIND(&quot;FIELD_CUSTOM_VALIDATION_EXCEPTION:&quot;, {!$Flow.FaultMessage}),
FIND(&quot;You can look up ExceptionCode values&quot;,{!$Flow.FaultMessage})-FIND(&quot;FIELD_CUSTOM_VALIDATION_EXCEPTION:&quot;, {!$Flow.FaultMessage}))</expression>
    </formulas>
    <formulas>
        <name>Now</name>
        <dataType>DateTime</dataType>
        <expression>NOW()</expression>
    </formulas>
    <interviewLabel>Implementation | After Trigger | Update Imp Call Steps {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Implementation | After Trigger | Update Imp Call Steps</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordLookups>
        <name>Get_Census_Call_Task</name>
        <label>Get Census Call Task</label>
        <locationX>1760</locationX>
        <locationY>839</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Funding_Call_PT</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Implementation__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Census Call</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Project_Task__c</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Actual_Completion_Date__c</queriedFields>
        <queriedFields>Status__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Funding_Call_PT</name>
        <label>Get Funding Call PT</label>
        <locationX>1760</locationX>
        <locationY>984</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Task_Complete_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Implementation__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Funding &amp; Final Call</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Project_Task__c</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Actual_Completion_Date__c</queriedFields>
        <queriedFields>Status__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Funding_Call_Task</name>
        <label>Get Funding Call Task</label>
        <locationX>2288</locationX>
        <locationY>623</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Task_Complete_0_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Implementation__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Funding &amp; Final Call</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Project_Task__c</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Actual_Completion_Date__c</queriedFields>
        <queriedFields>Status__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Intro_Call_Task</name>
        <label>Get Intro Call Task</label>
        <locationX>1239</locationX>
        <locationY>803</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Task_Complete</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Implementation__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Name</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Introductory Call</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Project_Task__c</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Actual_Completion_Date__c</queriedFields>
        <queriedFields>Status__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Mark_Call_Complete_Only</name>
        <label>Mark Call Complete Only</label>
        <locationX>1364</locationX>
        <locationY>623</locationY>
        <connector>
            <targetReference>Get_Intro_Call_Task</targetReference>
        </connector>
        <inputAssignments>
            <field>Introductory_Call__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Mark_Census_Call_Complete_Only</name>
        <label>Mark Census Call Complete Only</label>
        <locationX>1960</locationX>
        <locationY>727</locationY>
        <connector>
            <targetReference>Get_Census_Call_Task</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Wipe_Census_Info</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Census_Call__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Mark_Funding_Call_PT_Not_Needed_Finch</name>
        <label>Mark Funding Call PT Not Needed - Finch</label>
        <locationX>1845</locationX>
        <locationY>1295</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Funding_Call_PT.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Actual_Completion_Date__c</field>
            <value>
                <elementReference>Now</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Not Needed</stringValue>
            </value>
        </inputAssignments>
        <object>Project_Task__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Census_Project_Task</name>
        <label>Update Census Project Task</label>
        <locationX>1533</locationX>
        <locationY>1296</locationY>
        <connector>
            <targetReference>Finch</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Census_Call_Task.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Actual_Completion_Date__c</field>
            <value>
                <elementReference>Now</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </inputAssignments>
        <object>Project_Task__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Funding_Project_Task</name>
        <label>Update Funding Project Task</label>
        <locationX>2156</locationX>
        <locationY>863</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Funding_Call_Task.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Actual_Completion_Date__c</field>
            <value>
                <elementReference>Now</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </inputAssignments>
        <object>Project_Task__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Imp_Step_to_Complete</name>
        <label>Update Imp Step to Complete</label>
        <locationX>2429</locationX>
        <locationY>492</locationY>
        <connector>
            <targetReference>Get_Funding_Call_Task</targetReference>
        </connector>
        <inputAssignments>
            <field>Funding_Call__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Intro_Project_Task</name>
        <label>Update Intro Project Task</label>
        <locationX>1246</locationX>
        <locationY>1143</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Intro_Call_Task.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Actual_Completion_Date__c</field>
            <value>
                <elementReference>Now</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Completed</stringValue>
            </value>
        </inputAssignments>
        <object>Project_Task__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_to_Enrollment</name>
        <label>Update to Enrollment</label>
        <locationX>1039</locationX>
        <locationY>639</locationY>
        <connector>
            <targetReference>Get_Intro_Call_Task</targetReference>
        </connector>
        <inputAssignments>
            <field>Implementation_Stage__c</field>
            <value>
                <stringValue>Census</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Implementation_Steps__c</field>
            <value>
                <stringValue>Add Your Employees</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Introductory_Call__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_to_Enrollment_and_In_Progress</name>
        <label>Update to Enrollment and In Progress</label>
        <locationX>885</locationX>
        <locationY>793</locationY>
        <connector>
            <targetReference>Get_Intro_Call_Task</targetReference>
        </connector>
        <inputAssignments>
            <field>Implementation_Stage__c</field>
            <value>
                <stringValue>Census</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Implementation_Status__c</field>
            <value>
                <stringValue>In Progress</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Implementation_Steps__c</field>
            <value>
                <stringValue>Add Your Employees</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Introductory_Call__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_to_Funding_Step</name>
        <label>Update to Funding Step</label>
        <locationX>1693</locationX>
        <locationY>679</locationY>
        <connector>
            <targetReference>Get_Census_Call_Task</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Wipe_Census_Info</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Census_Call__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Implementation_Stage__c</field>
            <value>
                <stringValue>Funding</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Implementation_Steps__c</field>
            <value>
                <stringValue>Funding &amp; Review</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_to_Funding_Step_0</name>
        <label>Update to Funding Step</label>
        <locationX>1529</locationX>
        <locationY>688</locationY>
        <faultConnector>
            <targetReference>Wipe_Census_Info</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Implementation_Stage__c</field>
            <value>
                <stringValue>Funding</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Implementation_Steps__c</field>
            <value>
                <stringValue>Funding &amp; Review</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_to_self_service_census_stage</name>
        <label>Update to self service census stage</label>
        <locationX>977</locationX>
        <locationY>93</locationY>
        <inputAssignments>
            <field>Implementation_Stage__c</field>
            <value>
                <stringValue>Census</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Implementation_Steps__c</field>
            <value>
                <stringValue>Add Your Employees</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Wipe_Census_Info</name>
        <label>Wipe Census Info</label>
        <locationX>1451</locationX>
        <locationY>845</locationY>
        <connector>
            <targetReference>is_this_a_validation_error</targetReference>
        </connector>
        <inputAssignments>
            <field>Census_and_Eligibility_Uploaded__c</field>
        </inputAssignments>
        <inputAssignments>
            <field>Count_of_Employees_Census__c</field>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>2096</locationX>
        <locationY>48</locationY>
        <connector>
            <targetReference>Move_to_Next_Step</targetReference>
        </connector>
        <filterLogic>(1 and 4) or (2 and 5) or (3 and 6) or (7 and 8) or (9 and 10) or (11 and 12) or (14 AND 16 AND 4 AND (15 OR 13)) or (17 and 18 and 19 and (20 or 21 or 22))</filterLogic>
        <filters>
            <field>Intro_Call_Complete__c</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Census_Call_Complete__c</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Funding_Call_Complete__c</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Intro_Call_Complete__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Census_Call_Complete__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Funding_Call_Complete__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Ubiquity_Plan_Documents_Signed__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Ubiquity_Plan_Documents_Signed__c</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Census_and_Eligibility_Uploaded__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Census_and_Eligibility_Uploaded__c</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Census_Tutorial_Complete__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Census_Tutorial_Complete__c</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Update_Salesforce_Paradigm__c</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Update_Salesforce_Paradigm__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Yes</stringValue>
            </value>
        </filters>
        <filters>
            <field>Update_Verify_Plan_Provisions__c</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Update_Verify_Plan_Provisions__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Yes</stringValue>
            </value>
        </filters>
        <filters>
            <field>Provisions_Accepted__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Dashboard_Overview_Tutorial_Complete__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Plan_Setup_Tutorial_Complete__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Provisions_Accepted__c</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Plan_Setup_Tutorial_Complete__c</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Dashboard_Overview_Tutorial_Complete__c</field>
            <operator>IsChanged</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <object>Implementation__c</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <textTemplates>
        <name>formattedErrorEmailBody</name>
        <isViewedAsPlainText>true</isViewedAsPlainText>
        <text>Hello {!$Record.Owner:User.FirstName},

The implementation for {!$Record.Name} attempted to progress, but it was stopped by a validation error.  Please review the message below, and complete the appropriate fields on the implementation.

{!formattedError}

Link to implementation: https://myubiquity.lightning.force.com/lightning/r/Implementation__c/{!$Record.Implementation_ID_18_Char__c}/view

Thanks!

BI Team
____________</text>
    </textTemplates>
    <variables>
        <name>errorEmailRecipients</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
