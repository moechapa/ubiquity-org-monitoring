<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>53.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Assign_Id</name>
        <label>Assign Id</label>
        <locationX>1178</locationX>
        <locationY>909</locationY>
        <assignmentItems>
            <assignToReference>ProductsToDelete</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>LoopVar</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Product_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Referral_Discount</name>
        <label>Referral Discount</label>
        <locationX>2096</locationX>
        <locationY>662</locationY>
        <assignmentItems>
            <assignToReference>Discount</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>100.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Product</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Referral_Discount_Amount</name>
        <label>Referral Discount Amount</label>
        <locationX>1651</locationX>
        <locationY>605</locationY>
        <assignmentItems>
            <assignToReference>DiscountAmount</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>300.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Product</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Discount_Needed</name>
        <label>Discount Needed?</label>
        <locationX>1799</locationX>
        <locationY>815</locationY>
        <defaultConnector>
            <targetReference>Create_Product</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesReferral</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opp.LeadSource</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Referral</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ProductFamily</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Setup</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>CreatedBy.UserRoleId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>00E00000006xFiWEAU</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Referral_Discount</targetReference>
            </connector>
            <label>Yes, Referral</label>
        </rules>
        <rules>
            <name>Yes_ProBeauty</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opp.LeadSourceDetail__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>ProBeauty</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ProductFamily</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Setup</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Referral_Discount</targetReference>
            </connector>
            <label>Yes, ProBeauty</label>
        </rules>
        <rules>
            <name>Yes_PSIVet</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opp.LeadSourceDetail__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PSIvet</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ProductFamily</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>401(k)</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Referral_Discount_Amount</targetReference>
            </connector>
            <label>Yes, PSIVet</label>
        </rules>
    </decisions>
    <decisions>
        <name>Do_Products_Exist</name>
        <label>Do Products Exist?</label>
        <locationX>549</locationX>
        <locationY>790</locationY>
        <defaultConnector>
            <targetReference>Product_Type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesExistsAgain</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RelatedProducts</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_Related_Products</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Does_Product_Exist</name>
        <label>Does Product Exist?</label>
        <locationX>1463</locationX>
        <locationY>720</locationY>
        <defaultConnector>
            <targetReference>Product_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Yes</defaultConnectorLabel>
        <rules>
            <name>NoProduct</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RelatedProducts</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Discount_Needed</targetReference>
            </connector>
            <label>No</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Price_Book_Already_Set</name>
        <label>Is Price Book Already Set?</label>
        <locationX>534</locationX>
        <locationY>234</locationY>
        <defaultConnector>
            <targetReference>Product_Type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>YesPriceBookExists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opp.Pricebook2Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Products_0</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Product_Type</name>
        <label>Product Type</label>
        <locationX>733</locationX>
        <locationY>234</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Add_On</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Opp.Product_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Add-On Product</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Opp.Product_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Plan Amendment</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_On_Pricebook</targetReference>
            </connector>
            <label>Add-On</label>
        </rules>
        <rules>
            <name>Upgrade</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opp.Product_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Upgrade</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Pricebook_0_0</targetReference>
            </connector>
            <label>Upgrade</label>
        </rules>
        <rules>
            <name>Single_k</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opp.Product_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Single(k)</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Pricebook_0</targetReference>
            </connector>
            <label>Single(k)</label>
        </rules>
        <rules>
            <name>JPM</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opp.LeadSourceDetail__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>JPM</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Pricebook_0_0_0_0_0</targetReference>
            </connector>
            <label>JPM</label>
        </rules>
        <rules>
            <name>RewardJet</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opp.LeadSourceDetail__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>RewardJet</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Pricebook_0_0_0_0</targetReference>
            </connector>
            <label>RewardJet</label>
        </rules>
        <rules>
            <name>Rippling</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opp.LeadSourceDetail__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Rippling</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Pricebook_0_0_0_0_0_0</targetReference>
            </connector>
            <label>Rippling</label>
        </rules>
        <rules>
            <name>X401_K</name>
            <conditionLogic>1 AND NOT 2</conditionLogic>
            <conditions>
                <leftValueReference>Opp.Product_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>401(k)</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Opp.Service_Option__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Simply Retirement</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Pricebook</targetReference>
            </connector>
            <label>401(K)</label>
        </rules>
        <rules>
            <name>Simply_Retirement</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Opp.Service_Option__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Simply Retirement Bundled</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Opp.Service_Option__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Simply Retirement Unbundled</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Pricebook_0_0_0</targetReference>
            </connector>
            <label>Simply Retirement</label>
        </rules>
        <rules>
            <name>Sallus</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Opp.Service_Option__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Starter</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Opp.Service_Option__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Franchise</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Opp.Service_Option__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Builder</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Opp.Service_Option__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Partner</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Pricebook_0_0_0_0_0_0_0</targetReference>
            </connector>
            <label>Sallus</label>
        </rules>
    </decisions>
    <decisions>
        <name>Products_To_Delete</name>
        <label>Products To Delete?</label>
        <locationX>1705</locationX>
        <locationY>913</locationY>
        <defaultConnector>
            <targetReference>Discount_Needed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ProductsToDelete</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_Old_Product</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Products_to_Replace</name>
        <label>Products to Replace</label>
        <locationX>1303</locationX>
        <locationY>1071</locationY>
        <defaultConnector>
            <targetReference>Product_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Replacement</defaultConnectorLabel>
        <rules>
            <name>Replacement_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>LoopVar.Product_Family__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>ProductFamily</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Opp.Product_Type__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Upgrade</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Id</targetReference>
            </connector>
            <label>Replacement Found</label>
        </rules>
    </decisions>
    <description>When Opportunity is created or edited, add or edit the associated products.</description>
    <environments>Default</environments>
    <interviewLabel>Update Opportunity Line Items {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Opportunity | Process | Add/Edit Products</label>
    <loops>
        <name>Product_Loop</name>
        <label>Product Loop</label>
        <locationX>1470</locationX>
        <locationY>910</locationY>
        <assignNextValueToReference>LoopVar</assignNextValueToReference>
        <collectionReference>RelatedProducts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Products_to_Replace</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Products_To_Delete</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_Product</name>
        <label>Create Product</label>
        <locationX>1806</locationX>
        <locationY>631</locationY>
        <connector>
            <targetReference>Check_for_Promotions</targetReference>
        </connector>
        <inputAssignments>
            <field>Discount_Amount__c</field>
            <value>
                <elementReference>DiscountAmount</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Discount_Percentage__c</field>
            <value>
                <elementReference>Discount</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OpportunityId</field>
            <value>
                <elementReference>Opp.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Product2Id</field>
            <value>
                <elementReference>productId</elementReference>
            </value>
        </inputAssignments>
        <object>OpportunityLineItem</object>
    </recordCreates>
    <recordDeletes>
        <name>Delete_Old_Product</name>
        <label>Delete Old Product</label>
        <locationX>1925</locationX>
        <locationY>911</locationY>
        <connector>
            <targetReference>Discount_Needed</targetReference>
        </connector>
        <inputReference>ProductsToDelete</inputReference>
    </recordDeletes>
    <recordDeletes>
        <name>Delete_Related_Products</name>
        <label>Delete Related Products</label>
        <locationX>734</locationX>
        <locationY>786</locationY>
        <connector>
            <targetReference>Product_Type</targetReference>
        </connector>
        <inputReference>RelatedProducts</inputReference>
    </recordDeletes>
    <recordLookups>
        <name>CreatedBy</name>
        <label>CreatedBy</label>
        <locationX>398</locationX>
        <locationY>463</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Price_Book_Already_Set</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Opp.OwnerId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>User</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opp</name>
        <label>Get Opp</label>
        <locationX>390</locationX>
        <locationY>232</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>CreatedBy</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputAssignments>
            <assignToReference>Opp.Id</assignToReference>
            <field>Id</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Opp.LeadSource</assignToReference>
            <field>LeadSource</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Opp.LeadSourceDetail__c</assignToReference>
            <field>LeadSourceDetail__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Opp.OwnerId</assignToReference>
            <field>OwnerId</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Opp.Pricebook2Id</assignToReference>
            <field>Pricebook2Id</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Opp.Product_Type__c</assignToReference>
            <field>Product_Type__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>Opp.Service_Option__c</assignToReference>
            <field>Service_Option__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <name>Get_Products</name>
        <label>Get Products</label>
        <locationX>1471</locationX>
        <locationY>579</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Does_Product_Exist</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <object>OpportunityLineItem</object>
        <outputReference>RelatedProducts</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Product_Family__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Products_0</name>
        <label>Get Products</label>
        <locationX>545</locationX>
        <locationY>649</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Do_Products_Exist</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product_Family__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ProductFamily</elementReference>
            </value>
        </filters>
        <object>OpportunityLineItem</object>
        <outputReference>RelatedProducts</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Product_Family__c</queriedFields>
    </recordLookups>
    <recordUpdates>
        <name>Add_On_Pricebook</name>
        <label>Add-On Pricebook</label>
        <locationX>1177</locationX>
        <locationY>409</locationY>
        <connector>
            <targetReference>Get_Products</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Opp.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Pricebook2Id</field>
            <value>
                <stringValue>01s1G000001tb0rQAA</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Pricebook</name>
        <label>401(k) Pricebook</label>
        <locationX>1483</locationX>
        <locationY>220</locationY>
        <connector>
            <targetReference>Get_Products</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Opp.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Pricebook2Id</field>
            <value>
                <stringValue>01s000000009U37AAE</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Pricebook_0</name>
        <label>Single(k) Pricebook</label>
        <locationX>1386</locationX>
        <locationY>277</locationY>
        <connector>
            <targetReference>Get_Products</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Opp.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Pricebook2Id</field>
            <value>
                <stringValue>01s000000009U3vAAE</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Pricebook_0_0</name>
        <label>Upgrade Pricebook</label>
        <locationX>1286</locationX>
        <locationY>329</locationY>
        <connector>
            <targetReference>Get_Products</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Opp.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Pricebook2Id</field>
            <value>
                <stringValue>01s1G000001tb0hQAA</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Pricebook_0_0_0</name>
        <label>Simply Pricebook</label>
        <locationX>1560</locationX>
        <locationY>131</locationY>
        <connector>
            <targetReference>Get_Products</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Opp.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Pricebook2Id</field>
            <value>
                <stringValue>01s1G000001hXGxQAM</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Pricebook_0_0_0_0</name>
        <label>RewardJet Pricebook</label>
        <locationX>968</locationX>
        <locationY>584</locationY>
        <connector>
            <targetReference>Get_Products</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Opp.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Pricebook2Id</field>
            <value>
                <stringValue>01s1G000001tb0IQAQ</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Pricebook_0_0_0_0_0</name>
        <label>JPM Pricebook</label>
        <locationX>1065</locationX>
        <locationY>492</locationY>
        <connector>
            <targetReference>Get_Products</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Opp.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Pricebook2Id</field>
            <value>
                <stringValue>01s1G000001taK0QAI</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Pricebook_0_0_0_0_0_0</name>
        <label>Rippling Pricebook</label>
        <locationX>852</locationX>
        <locationY>660</locationY>
        <connector>
            <targetReference>Get_Products</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Opp.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Pricebook2Id</field>
            <value>
                <stringValue>01s1G000001tb1GQAQ</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Pricebook_0_0_0_0_0_0_0</name>
        <label>Sallus Pricebook</label>
        <locationX>1448</locationX>
        <locationY>50</locationY>
        <connector>
            <targetReference>Get_Products</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Opp.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Pricebook2Id</field>
            <value>
                <stringValue>01s1G000001H7oiQAC</stringValue>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <start>
        <locationX>50</locationX>
        <locationY>232</locationY>
        <connector>
            <targetReference>Get_Opp</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Check_for_Promotions</name>
        <label>Check for Promotions</label>
        <locationX>1806</locationX>
        <locationY>449</locationY>
        <flowName>Update_Promotional_Discount</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <variables>
        <name>Discount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>DiscountAmount</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>LoopVar</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>Opp</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>PriceBook</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Pricebook2</objectType>
    </variables>
    <variables>
        <name>ProductFamily</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>productId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>ProductsToDelete</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>relatedProduct</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>RelatedProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
</Flow>
