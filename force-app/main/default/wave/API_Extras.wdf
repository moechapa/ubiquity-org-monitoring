["{}","{\"nodes\":{\"FORMULA13\":{\"sources\":[\"FILTER2\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"string(date_format(\\\"Forecast_Date\\\", 'MM/dd/yyyy'))\",\"defaultValue\":\"\",\"precision\":255,\"name\":\"Date_String\",\"label\":\"Date String\",\"type\":\"TEXT\"}]}},\"FORMULA9\":{\"sources\":[\"JOIN0\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"((\\\"COUNT_Rows\\\"-\\\"Aggregate4.AVG_COUNT_Rows\\\")/\\\"Aggregate4.AVG_COUNT_Rows\\\")*100\",\"defaultValue\":\"\",\"precision\":10,\"name\":\"Percent_Change\",\"scale\":2,\"label\":\"Percent Change\",\"type\":\"NUMBER\"}]}},\"FILTER0\":{\"sources\":[\"LOAD_DATASET0\"],\"action\":\"filter\",\"parameters\":{\"filterExpressions\":[{\"operands\":[\"0H41G0000005W9q\"],\"field\":\"CONNECTED_APP_ID\",\"type\":\"TEXT\",\"operator\":\"EQUAL\"},{\"operands\":[{\"argument\":-2,\"type\":\"N_WEEKS\"},{\"argument\":-1,\"type\":\"N_DAYS\"}],\"field\":\"TIMESTAMP_DERIVED\",\"type\":\"DATETIME\",\"operator\":\"IN_RANGE\"}]}},\"DROP_FIELDS0\":{\"sources\":[\"FORMULA9\"],\"action\":\"schema\",\"parameters\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[\"TIMESTAMP_DERIVED_DAY\",\"TIMESTAMP_DERIVED_MONTH\",\"TIMESTAMP_DERIVED_YEAR\",\"DateString\",\"Transform6.COUNT_Rows\",\"Transform6.Date_String\",\"Transform6.Forecast_Date_formula\"]},\"fields\":[]}},\"FILTER1\":{\"sources\":[\"FORMULA11\"],\"action\":\"filter\",\"parameters\":{\"filterExpressions\":[{\"operands\":[\"Weekday\"],\"field\":\"WeekdayWeekend\",\"type\":\"TEXT\",\"operator\":\"EQUAL\"}]}},\"FILTER2\":{\"sources\":[\"FORMULA12\"],\"action\":\"filter\",\"parameters\":{\"filterExpressions\":[{\"operands\":[\"Weekday\"],\"field\":\"Forecast_Date_formula\",\"type\":\"TEXT\",\"operator\":\"EQUAL\"},{\"operands\":[{\"argument\":-1,\"type\":\"N_YEARS\"},{\"argument\":-1,\"type\":\"N_DAYS\"}],\"field\":\"Forecast_Date\",\"type\":\"DATETIME\",\"operator\":\"IN_RANGE\"}]}},\"DROP_FIELDS1\":{\"sources\":[\"TIME_SERIES_V20\"],\"action\":\"schema\",\"parameters\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[\"COUNT_Rows_forecast\"]},\"fields\":[]}},\"AGGREGATE3\":{\"sources\":[\"EXTRACT1\"],\"action\":\"aggregate\",\"parameters\":{\"groupings\":[\"DateString\"],\"pivots\":[],\"nodeType\":\"STANDARD\",\"aggregations\":[{\"name\":\"COUNT_Rows\",\"action\":\"COUNT\",\"label\":\"Rows\"}]}},\"FORMULA11\":{\"sources\":[\"FORMULA3\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"string(date_format(\\\"Date\\\", 'MM/dd/yyyy'))\",\"defaultValue\":\"\",\"precision\":255,\"name\":\"DateString\",\"label\":\"DateString\",\"type\":\"TEXT\"}]}},\"AGGREGATE5\":{\"sources\":[\"EXTRACT2\"],\"action\":\"aggregate\",\"parameters\":{\"groupings\":[],\"pivots\":[],\"nodeType\":\"STANDARD\",\"aggregations\":[{\"name\":\"AVG_COUNT_Rows\",\"action\":\"AVG\",\"source\":\"COUNT_Rows\",\"label\":\"Average Rows\"}]}},\"FORMULA12\":{\"sources\":[\"FILL0\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"case dayofweek(\\\"Forecast_Date\\\")\\n\\twhen 1\\n\\tthen 'Weekend'\\n    when 7\\n    then 'Weekend'\\n    else 'Weekday'\\nend\",\"defaultValue\":\"\",\"precision\":255,\"name\":\"Forecast_Date_formula\",\"label\":\"Date Formula\",\"type\":\"TEXT\"}]}},\"JOIN1\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[]},\"fields\":[]},\"sources\":[\"AGGREGATE3\",\"FORMULA13\"],\"action\":\"join\",\"parameters\":{\"leftKeys\":[\"DateString\"],\"rightQualifier\":\"Transform6\",\"rightKeys\":[\"Date_String\"],\"joinType\":\"RIGHT_OUTER\"}},\"JOIN0\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[]}},\"sources\":[\"JOIN1\",\"AGGREGATE5\"],\"action\":\"join\",\"parameters\":{\"rightQualifier\":\"Aggregate4\",\"joinType\":\"CROSS\"}},\"FILL0\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[\"COUNT_Rows\"]},\"fields\":[{\"newProperties\":{\"name\":\"COUNT_Rows\"},\"name\":\"COUNT_Rows_fill\"}]},\"sources\":[\"DROP_FIELDS1\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"coalesce(COUNT_Rows, null, 0)\",\"precision\":18,\"name\":\"COUNT_Rows_fill\",\"scale\":0,\"label\":\"Rows\",\"type\":\"NUMBER\"}]}},\"OUTPUT0\":{\"sources\":[\"EDIT_ATTRIBUTES0\"],\"action\":\"save\",\"parameters\":{\"measuresToCurrencies\":[],\"fields\":[],\"dataset\":{\"name\":\"Simply_API_Relative_Change\",\"label\":\"Simply API Relative Change\",\"type\":\"analyticsDataset\"}}},\"TIME_SERIES_V20\":{\"sources\":[\"FORMULA11\"],\"action\":\"timeSeriesV2\",\"parameters\":{\"forecastDatesBy\":\"Y-M-D\",\"forecastLengthType\":\"ROLLING\",\"confidenceInterval\":\"None\",\"partialDataHandling\":\"NONE\",\"forecastLength\":1,\"forecastDateField\":\"Date\",\"forecastFields\":[{\"forecastField\":{\"name\":\"COUNT_Rows_forecast\",\"label\":\"Rows Forecast\"},\"aggregate\":{\"name\":\"COUNT_Rows\",\"action\":\"COUNT\",\"label\":\"Rows\"}}],\"targetDateField\":{\"name\":\"Forecast_Date\",\"label\":\"Date\"},\"algorithmParameters\":{\"model\":\"Auto\",\"seasonality\":0},\"groupingFields\":[],\"algorithm\":\"HOLT_WINTERS\"}},\"LOAD_DATASET0\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"CLIENT_IP\",\"User.Country\",\"CLIENT_NAME\",\"EVENT_TYPE\",\"User.City\",\"EXCEPTION_MESSAGE\",\"USER_ID\",\"REQUEST_ID\",\"URI\",\"CONNECTED_APP_ID\",\"ORGANIZATION_ID\",\"User.Division\",\"User.IsActive\",\"User.Department\",\"User.Profile.Name\",\"User.Username\",\"TIMESTAMP\",\"MEDIA_TYPE\",\"USER_ID_DERIVED\",\"ENTITY_NAME\",\"USER_AGENT\",\"User.Name\",\"SESSION_KEY\",\"STATUS_CODE\",\"REQUEST_STATUS\",\"URI_ID_DERIVED\",\"TIMESTAMP_DERIVED\",\"User.User.Role.Name\",\"USER_TYPE\",\"LOGIN_KEY\",\"METHOD\",\"RESPONSE_SIZE\",\"NUMBER_FIELDS\",\"REQUEST_SIZE\",\"ROWS_PROCESSED\",\"DB_CPU_TIME\",\"CPU_TIME\",\"RUN_TIME\",\"DB_TOTAL_TIME\",\"DB_BLOCKS\"],\"sampleDetails\":{\"sortBy\":[],\"filters\":{\"filterExpressions\":[{\"operands\":[\"0H41G0000005W9q\"],\"field\":\"CONNECTED_APP_ID\",\"type\":\"TEXT\",\"operator\":\"EQUAL\"}]},\"type\":\"Custom\"},\"dataset\":{\"name\":\"RestApiWithUsers\",\"label\":\"RestApiWithUsers\",\"type\":\"analyticsDataset\"}}},\"EDIT_ATTRIBUTES0\":{\"sources\":[\"DROP_FIELDS0\"],\"action\":\"schema\",\"parameters\":{\"fields\":[{\"newProperties\":{\"name\":\"Date\",\"label\":\"Date\"},\"name\":\"Transform6.Forecast_Date\"}]}},\"FORMULA2\":{\"sources\":[\"FILTER0\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"case dayofweek(\\\"TIMESTAMP_DERIVED\\\")\\n\\twhen 1\\n\\tthen 'Weekend'\\n    when 7\\n    then 'Weekend'\\n    else 'Weekday'\\nend\\n\",\"defaultValue\":\"\",\"precision\":20,\"name\":\"WeekdayWeekend\",\"label\":\"Weekday/Weekend\",\"type\":\"TEXT\"}]}},\"FORMULA3\":{\"sources\":[\"FORMULA2\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"date_trunc('DD', \\\"TIMESTAMP_DERIVED\\\")\",\"defaultValue\":\"\",\"name\":\"Date\",\"format\":\"MM/dd/yyyy\",\"label\":\"Date\",\"type\":\"DATETIME\"}]}},\"EXTRACT1\":{\"sources\":[\"FILTER1\"],\"action\":\"extractGrains\",\"parameters\":{\"grainExtractions\":[]}},\"EXTRACT2\":{\"sources\":[\"JOIN1\"],\"action\":\"extractGrains\",\"parameters\":{\"grainExtractions\":[]}}},\"ui\":{\"hiddenColumns\":[],\"connectors\":[{\"source\":\"LOAD_DATASET0\",\"target\":\"FILTER0\"},{\"source\":\"FILTER0\",\"target\":\"TRANSFORM0_copy0_copy0\"},{\"source\":\"TRANSFORM0_copy0_copy0\",\"target\":\"FILTER1\"},{\"source\":\"FILTER1\",\"target\":\"AGGREGATE2\"},{\"source\":\"JOIN1\",\"target\":\"AGGREGATE4\"},{\"source\":\"JOIN1\",\"target\":\"JOIN0\"},{\"source\":\"AGGREGATE4\",\"target\":\"JOIN0\"},{\"source\":\"JOIN0\",\"target\":\"TRANSFORM4\"},{\"source\":\"TRANSFORM4\",\"target\":\"OUTPUT0\"},{\"source\":\"TRANSFORM0_copy0_copy0\",\"target\":\"TRANSFORM5\"},{\"source\":\"TRANSFORM5\",\"target\":\"FILTER2\"},{\"source\":\"FILTER2\",\"target\":\"TRANSFORM6\"},{\"source\":\"AGGREGATE2\",\"target\":\"JOIN1\"},{\"source\":\"TRANSFORM6\",\"target\":\"JOIN1\"}],\"nodes\":{\"FILTER0\":{\"top\":112,\"left\":252,\"description\":\"\",\"label\":\"Filter Simply App\",\"type\":\"FILTER\"},\"FILTER1\":{\"top\":252,\"left\":532,\"description\":\"\",\"label\":\"Filter to Weekdays\",\"type\":\"FILTER\"},\"FILTER2\":{\"top\":112,\"left\":672,\"description\":\"\",\"label\":\"Filter to Weekdays\",\"type\":\"FILTER\"},\"TRANSFORM0_copy0_copy0\":{\"connectors\":[{\"source\":\"FORMULA2\",\"target\":\"FORMULA3\"},{\"source\":\"FORMULA3\",\"target\":\"FORMULA11\"}],\"top\":112,\"left\":392,\"description\":\"\",\"label\":\"Get Date Info\",\"type\":\"TRANSFORM\",\"graph\":{\"FORMULA2\":{\"label\":\"Weekday vs Weekend\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"FORMULA3\":{\"label\":\"Date\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"FORMULA11\":{\"label\":\"Formula\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}}}},\"AGGREGATE2\":{\"connectors\":[{\"source\":\"EXTRACT1\",\"target\":\"AGGREGATE3\"}],\"top\":252,\"left\":672,\"description\":\"\",\"label\":\"Rows per day\",\"type\":\"AGGREGATE\",\"graph\":{\"AGGREGATE3\":null,\"EXTRACT1\":null}},\"AGGREGATE4\":{\"connectors\":[{\"source\":\"EXTRACT2\",\"target\":\"AGGREGATE5\"}],\"top\":112,\"left\":1092,\"description\":\"\",\"label\":\"Avg rows per day\",\"type\":\"AGGREGATE\",\"graph\":{\"AGGREGATE5\":null,\"EXTRACT2\":null}},\"TRANSFORM4\":{\"connectors\":[{\"source\":\"FORMULA9\",\"target\":\"DROP_FIELDS0\"},{\"source\":\"DROP_FIELDS0\",\"target\":\"EDIT_ATTRIBUTES0\"}],\"top\":112,\"left\":1372,\"description\":\"The point of this whole exercise.  Compares each day's api hit count w/ what's average for weekdays.\",\"label\":\"Get percent change\",\"type\":\"TRANSFORM\",\"graph\":{\"FORMULA9\":{\"label\":\"Formula\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"DROP_FIELDS0\":{\"label\":\"Drop Columns\"},\"EDIT_ATTRIBUTES0\":{\"label\":\"Edit Attributes\"}}},\"JOIN1\":{\"top\":112,\"left\":952,\"description\":\"\",\"label\":\"Add 0 Row Dates to Aggregate\",\"type\":\"JOIN\"},\"JOIN0\":{\"top\":112,\"left\":1232,\"description\":\"\",\"label\":\"Add avg rows column\",\"type\":\"JOIN\"},\"TRANSFORM5\":{\"connectors\":[{\"source\":\"TIME_SERIES_V20\",\"target\":\"DROP_FIELDS1\"},{\"source\":\"DROP_FIELDS1\",\"target\":\"FILL0\"},{\"source\":\"FILL0\",\"target\":\"FORMULA12\"}],\"top\":112,\"left\":532,\"description\":\"Adds a row with 0 api calls for dates missing api activity\",\"label\":\"Fill in Empty Days\",\"type\":\"TRANSFORM\",\"graph\":{\"FILL0\":{\"label\":\"Fill\",\"parameters\":{\"type\":\"FILL_UI\"}},\"TIME_SERIES_V20\":{\"label\":\"Time Series Forecasting\"},\"DROP_FIELDS1\":{\"label\":\"Drop Columns\"},\"FORMULA12\":{\"label\":\"Formula\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}}}},\"OUTPUT0\":{\"top\":112,\"left\":1512,\"label\":\"Output 0\",\"type\":\"OUTPUT\"},\"TRANSFORM6\":{\"connectors\":[],\"top\":112,\"left\":812,\"description\":\"\",\"label\":\"Get Date String\",\"type\":\"TRANSFORM\",\"graph\":{\"FORMULA13\":{\"label\":\"Formula\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}}}},\"LOAD_DATASET0\":{\"top\":112,\"left\":112,\"label\":\"RestApiWithUsers\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}}}},\"version\":\"62.0\",\"runMode\":\"full\"}"]