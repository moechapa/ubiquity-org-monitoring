<?xml version="1.0" encoding="UTF-8"?>
<MktCalcInsightObjectDef xmlns="http://soap.sforce.com/2006/04/metadata">
    <creationType>Custom</creationType>
    <description>Explicit Feedback at Prompt Template Version Level</description>
    <expression>SELECT GenAIGatewayRequest__dlm.promptTemplateDevName__c AS prompt_template__c, GenAIGatewayRequest__dlm.promptTemplateVersionNo__c AS prompt_template_version__c,
GenAIFeedback__dlm.feedback__c AS feedback__c, COUNT(GenAIGatewayRequest__dlm.promptTemplateVersionNo__c) AS counts__c
FROM GenAIFeedback__dlm 
    FULL OUTER JOIN GenAIGeneration__dlm ON (GenAIFeedback__dlm.generationId__c = GenAIGeneration__dlm.generationId__c)
    FULL OUTER JOIN GenAIGatewayResponse__dlm ON (GenAIGeneration__dlm.generationResponseId__c = GenAIGatewayResponse__dlm.generationResponseId__c) 
    FULL OUTER JOIN GenAIGatewayRequest__dlm ON (GenAIGatewayResponse__dlm.generationRequestId__c = GenAIGatewayRequest__dlm.gatewayRequestId__c)
WHERE GenAIGatewayRequest__dlm.promptTemplateDevName__c  IS NOT NULL
GROUP BY prompt_template__c, prompt_template_version__c, feedback__c</expression>
    <masterLabel>Prompt Template Version Feedback</masterLabel>
</MktCalcInsightObjectDef>
