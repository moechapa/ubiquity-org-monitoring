<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Roth_Validation</fullName>
    <active>true</active>
    <description>Roth field must be populated to close the opportunity.</description>
    <errorConditionFormula>ISPICKVAL(StageName, &quot;Closed Won&quot;) 
&amp;&amp; 
ISPICKVAL( Product_Type__c , &quot;401(k)&quot; ) 
&amp;&amp;
NOT(ISPICKVAL( Account.Connected_Partner__c , &quot;Simply Retirement&quot;))
&amp;&amp; 
ISPICKVAL( Roth__c  , &quot;&quot;) 
&amp;&amp; 
CloseDate &gt; DATE(2017,1,9)
&amp;&amp;
ISCHANGED(StageName)</errorConditionFormula>
    <errorDisplayField>Roth__c</errorDisplayField>
    <errorMessage>Roth field must be populated to close this opportunity. If the client will not use Roth please put &quot;No&quot; for entry.</errorMessage>
</ValidationRule>
